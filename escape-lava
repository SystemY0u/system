-- SERVICES
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local UIS = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

-- ===== GUI LOGIN =====
local ScreenGui = Instance.new("ScreenGui", CoreGui)

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 200)
Frame.Position = UDim2.new(0.5, -150, 0.5, -100)
Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Instance.new("UICorner", Frame)

local TextBox = Instance.new("TextBox", Frame)
TextBox.Size = UDim2.new(0.8, 0, 0, 45)
TextBox.Position = UDim2.new(0.1, 0, 0.35, 0)
TextBox.PlaceholderText = "Enter Key..."
TextBox.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
TextBox.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", TextBox)

local LoginBtn = Instance.new("TextButton", Frame)
LoginBtn.Size = UDim2.new(0.8, 0, 0, 45)
LoginBtn.Position = UDim2.new(0.1, 0, 0.65, 0)
LoginBtn.Text = "LOGIN"
LoginBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
LoginBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", LoginBtn)

-- ===== GUI MENU =====
local ScreenGui2 = Instance.new("ScreenGui", CoreGui)
ScreenGui2.Enabled = false

local Frame2 = Instance.new("Frame", ScreenGui2)
Frame2.Size = UDim2.new(0, 230, 0, 340)
Frame2.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame2.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
Instance.new("UICorner", Frame2)

local UIStroke = Instance.new("UIStroke", Frame2)
UIStroke.Color = Color3.fromRGB(0,255,150)

local Title = Instance.new("TextLabel", Frame2)
Title.Size = UDim2.new(1, 0, 0, 50)
Title.Text = "BRAINROTS V3 BY GANKUNZ"
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.GothamBold
Title.BackgroundTransparency = 1

-- ===== HELPER FUNCTION =====
local function getHRP()
    local char = LocalPlayer.Character
    if not char then return nil end
    return char:FindFirstChild("HumanoidRootPart")
end

local function tpToPath(rootName)
    local hrp = getHRP()
    if not hrp then return end

    local brainrots = Workspace:FindFirstChild("Brainrots", true)
    if not brainrots then return end

    local target = brainrots:FindFirstChild(rootName, true)
    if not target then return end

    local part = target:FindFirstChildWhichIsA("BasePart")
    if not part then return end

    hrp.CFrame = part.CFrame
end

-- ===== BUTTONS =====
local function makeBtn(text, yPos, color)
    local b = Instance.new("TextButton", Frame2)
    b.Size = UDim2.new(0.85, 0, 0, 50)
    b.Position = UDim2.new(0.075, 0, yPos, 0)
    b.Text = text
    b.BackgroundColor3 = color
    b.TextColor3 = Color3.new(1,1,1)
    b.Font = Enum.Font.GothamBold
    Instance.new("UICorner", b)
    return b
end

local BtnCelestial = makeBtn("TP TO CELESTIAL", 0.18, Color3.fromRGB(150,0,255))
BtnCelestial.MouseButton1Click:Connect(function()
    tpToPath("Celestial")
end)

local BtnSecret = makeBtn("TP TO SECRET", 0.38, Color3.fromRGB(0,180,100))
BtnSecret.MouseButton1Click:Connect(function()
    tpToPath("Secret")
end)

local BtnBase = makeBtn("BACK TO BASEPLATE", 0.58, Color3.fromRGB(200,100,0))
BtnBase.MouseButton1Click:Connect(function()
    local hrp = getHRP()
    if hrp then
        hrp.CFrame = CFrame.new(0,10,0)
    end
end)

local BtnVIP = makeBtn("BYPASS VIP", 0.78, Color3.fromRGB(40,40,40))
BtnVIP.MouseButton1Click:Connect(function()
    BtnVIP.Text = "UNLOCKED"
end)

-- ===== LOGIN ACTION =====
LoginBtn.MouseButton1Click:Connect(function()
    -- ganti validasi key kalau mau
    ScreenGui.Enabled = false
    ScreenGui2.Enabled = true
end)
